<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--Font awesome cdn link-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!--custom css -->
    <link rel="stylesheet" href="css/book.css"> 
    <title>Book A Table</title>
</head>
<body>
    <div class="header">
        <h1>Quik-Del</h1>
    </div>
    <div class="sidebar">
        <a href="index.html">Home</a>
        <a href="#speciality">Popular Dishes</a>
        <a href="#steps">How it works</a>
        <a class="dropdown-btn" onclick="dropNav()">Restaurants
            <i class="fa fa-caret-down"></i>
        </a> 
        <div class="dropdown-container">
            <a href="rule34.html">Rule 34</a>
            <a href="cracker.html">The Nutcracker</a>
            <a href="spesso.html">Spesso</a>
            <a href="burgerk.html">Burger King</a>
        </div>
        <a href="order.html">View Order</a>
        <a href="bookTable.html">Book A Table</a>
        <a href="#footer">Contact Us</a>
    </div>
    <h1 class="heading"> <span> Book </span>a Table</h1>
    <div class=bodybook>
        
    <div class="wrapper">
        
        <form name="Booking" action="#">
          <div class="dbl-field">
            <div class="field">
              <input type="text" name="name" id="name" placeholder="Enter your name" required>
              <i class='fas fa-user'></i>
            </div>
            <div class="field">
              <input type="email" name="email" id="email" placeholder="Enter your email" required>
              <i class='fas fa-envelope'></i>
            </div>
          </div>
          <div class="dbl-field">
            <div class="field">
              <input type="text" name="phone" id="phone" placeholder="Enter your phone" required>
              <i class='fas fa-phone-alt'></i>
            </div>
            <div class="field">
              <input type="number" name="people" id="people" placeholder="Enter no. of people" required>
              <i class='fas fa-users'></i>
            </div>
            </div>
            <div class=dbl-field>
            <div class="field">
                <input type="date" name="date" id="date" placeholder="Enter date of visit" required>
                <i class='fas fa-calendar'></i>
              </div>
            <div class="field">
                <input type="time" name="time" id="time" placeholder="Enter time of visit" required>
                <i class='fas fa-clock'></i>
            </div>
          </div>
          <div class="dbl-field">
            <div class="field">
                <input type="text" name="rest" id="rest" placeholder="Enter restaurant name" required>
                <i class='fas fa-utensils'></i>
            </div>
          </div>
          
          <div class="message">
            <textarea placeholder="Write your message" id="msg" name="message"></textarea>
            
          </div>
          <div class="button-area">
            <button id="btn1" onclick="validateForm()" onsubmit="return false">Send Message</button>
            <span></span>
          </div>
        </form>
      </div>
      </div>
      <!--footer starts-->
    <section class="footer" id="footer">

        <div class="share">
            <a href="#" class="btn">facebook</a>
            <a href="#" class="btn">twitter</a>
            <a href="#" class="btn">instagram</a>
            <a href="#" class="btn">pinterest</a>
            <a href="#" class="btn">linkedin</a>
        </div>
    
        <h1 class="credit"> created by <span> Dishita Ashar </span> using <code>html </code>, <code>css </code>and <code>javascript.</code></h1>
        <small>All images have been take from Google and information from Zomato( slightly modified)</small>
    
    </section>
    <!--footer ends-->
      <script src="js/script.js"></script>
      <script>
        var table = Math.floor(Math.random() * 15) + 1;
        function validateForm(){
            let a = document.forms["Booking"]["name"].value;
            let b = document.forms["Booking"]["email"].value;
            let c = document.forms["Booking"]["phone"].value;
            let d = document.forms["Booking"]["people"].value;
            let e = document.forms["Booking"]["date"].value;
            let f = document.forms["Booking"]["time"].value;
            let g = document.forms["Booking"]["rest"].value;

            try{
                if(c.length!=10){
                    throw "Mobile number should contain 10 digits!"
                }
            }
            catch(err){
                window.alert(err)
            }
            finally{
            if (a == "" || b=="" || c==""  || d=="" || e=="" || f=="" || g=="" || c.length!=10 ) {
                window.alert("Please fill form completely!");
                
            }
            else{
                
                    var date = new Date();
                    var msg = 'Your booking has been successfully done on ' + date +  '! Table number assigned is '+ table;
                    window.alert(msg);
                    console.log("yes");
            }
        }
        }

        let bookings=[];
        const addBooking=(ev)=>{
          ev.preventDefault();
          let booking={
            id: Date.now(),
            name: document.getElementById('name').value,
            email: document.getElementById('email').value,
            phone: document.getElementById('phone').value,
            people: document.getElementById('people').value,
            date: document.getElementById('date').value,
            time: document.getElementById('time').value,
            restaurant: document.getElementById('rest').value,
            message: document.getElementById('msg').value
          }
          bookings.push(booking);
          document.forms[0].reset();
          console.log('added',{bookings});

          localStorage.setItem('BookingsList', JSON.stringify(bookings));
        }

        document.addEventListener('DOMContentLoaded',()=>{
          document.getElementById('btn1').addEventListener('click',addBooking);
        });

        </script>

</body>
</html>